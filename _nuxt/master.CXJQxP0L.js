import{d as _,L as b,M as H,P as x,g as l,r as O,N as k,O as A,u as j,G as N,R as S,m as T,Q as y,S as R,T as B,U as L,V as I,W as C,X as w,Y as V,Z as q,$ as E,_ as F,a0 as G,t as M}from"./entry.DRQaa-BX.js";const Q=_({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const r=e.renderKey,n=e.route,a={};for(const i in e.route)Object.defineProperty(a,i,{get:()=>r===e.renderKey?e.route[i]:n[i]});return b(x,H(a)),()=>l(e.vnode,{ref:e.vnodeRef})}}),U=_({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:r,expose:n}){const a=T(),i=O(),o=k(x,null);let d;n({pageRef:i});const c=k(A,null);let s;const f=a.deferHydration();if(a.isHydrating){const t=a.hooks.hookOnce("app:error",f);j().beforeEach(t)}return e.pageKey&&N(()=>e.pageKey,(t,g)=>{t!==g&&a.callHook("page:loading:start")}),()=>l(S,{name:e.name,route:e.route,...r},{default:t=>{const g=X(o,t.route,t.Component),v=o&&o.matched.length===t.route.matched.length;if(!t.Component){if(s&&!v)return s;f();return}if(s&&c&&!c.isCurrent(t.route))return s;if(g&&o&&(!c||c!=null&&c.isCurrent(o)))return v?s:null;const u=y(t,e.pageKey);!a.isHydrating&&!Y(o,t.route,t.Component)&&d===u&&a.callHook("page:loading:end"),d=u;const m=!!(e.transition??t.route.meta.pageTransition??R),K=m&&W([e.transition,t.route.meta.pageTransition,R,{onAfterLeave:()=>{a.callHook("page:transition:finish",t.Component)}}].filter(Boolean)),h=e.keepalive??t.route.meta.keepalive??B;return s=L(V,m&&K,I(h,l(C,{suspensible:!0,onPending:()=>a.callHook("page:start",t.Component),onResolve:()=>{w(()=>a.callHook("page:finish",t.Component).then(()=>a.callHook("page:loading:end")).finally(f))}},{default:()=>{const p=l(Q,{key:u||void 0,vnode:t.Component,route:t.route,renderKey:u||void 0,trackRootNodes:m,vnodeRef:i});return h&&(p.type.name=t.Component.type.name||t.Component.type.__name||"RouteProvider"),p}}))).default(),s}})}});function W(e){const r=e.map(n=>({...n,onAfterLeave:n.onAfterLeave?q(n.onAfterLeave):void 0}));return E(...r)}function X(e,r,n){if(!e)return!1;const a=r.matched.findIndex(i=>{var o;return((o=i.components)==null?void 0:o.default)===(n==null?void 0:n.type)});return!a||a===-1?!1:r.matched.slice(0,a).some((i,o)=>{var d,c,s;return((d=i.components)==null?void 0:d.default)!==((s=(c=e.matched[o])==null?void 0:c.components)==null?void 0:s.default)})||n&&y({route:r,Component:n})!==y({route:e,Component:n})}function Y(e,r,n){return e?r.matched.findIndex(i=>{var o;return((o=i.components)==null?void 0:o.default)===(n==null?void 0:n.type)})<r.matched.length-1:!1}const Z={};function $(e,r){const n=U;return M(),G(n)}const D=F(Z,[["render",$]]);export{D as default};
